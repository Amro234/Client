<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.control.ToggleButton?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.VBox?>

<AnchorPane id="AnchorPane" prefHeight="720" prefWidth="1280" styleClass="match-history-root" stylesheets="@../../../styles/customStyles.css"
    xmlns="http://javafx.com/javafx/25"
    xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.mycompany.client.match_recording.MatchHistoryController">

    <VBox alignment="TOP_CENTER" spacing="20" AnchorPane.leftAnchor="200" AnchorPane.rightAnchor="200" AnchorPane.topAnchor="40">

        <!-- Header Section -->
        <VBox alignment="CENTER_LEFT" spacing="8">
            <Label styleClass="match-history-title" text="Match Records" />
            <Label styleClass="match-history-subtitle" text="Browse your past games and watch replays." />
        </VBox>

        <!-- Filter Bar and Search -->
        <HBox alignment="CENTER_LEFT" spacing="15">
            <!-- Filter Buttons -->
            <HBox spacing="10" styleClass="filter-bar">
                <ToggleButton fx:id="allGamesBtn" selected="true" styleClass="filter-btn, filter-btn-active" text="All Games">
                    <graphic>
                        <ImageView fitHeight="16" fitWidth="16" preserveRatio="true">
                            <Image url="@../../../assets/images/all_games_list.png" />
                        </ImageView>
                    </graphic>
                </ToggleButton>
                <ToggleButton fx:id="winsBtn" styleClass="filter-btn" text="Wins">
                    <graphic>
                        <ImageView fitHeight="16" fitWidth="16" preserveRatio="true">
                            <Image url="@../../../assets/images/vic_cup.png" />
                        </ImageView>
                    </graphic>
                </ToggleButton>
                <ToggleButton fx:id="lossesBtn" styleClass="filter-btn" text="Losses">
                    <graphic>
                        <ImageView fitHeight="16" fitWidth="16" preserveRatio="true">
                            <Image url="@../../../assets/images/loss_x.png" />
                        </ImageView>
                    </graphic>
                </ToggleButton>
                <ToggleButton fx:id="drawsBtn" styleClass="filter-btn" text="Draws">
                    <graphic>
                        <ImageView fitHeight="16" fitWidth="16" preserveRatio="true">
                            <Image url="@../../../assets/images/draw_handshake.png" />
                        </ImageView>
                    </graphic>
                </ToggleButton>
            </HBox>

            <Region HBox.hgrow="ALWAYS" />

            <!-- Search Box -->
            <HBox alignment="CENTER_LEFT" spacing="8" styleClass="search-box">
                <ImageView fitHeight="16" fitWidth="16" preserveRatio="true">
                    <Image url="@../../../assets/images/search.png" />
                </ImageView>
                <TextField fx:id="searchField" promptText="Search opponent..." styleClass="search-field">
                    <HBox.margin>
                        <Insets />
                    </HBox.margin>
                </TextField>
            </HBox>
        </HBox>

        <!-- Match List -->
        <ScrollPane fitToWidth="true" hbarPolicy="NEVER" maxHeight="Infinity" prefHeight="400" styleClass="match-list-scroll" vbarPolicy="AS_NEEDED" VBox.vgrow="ALWAYS">
            <VBox fx:id="matchListContainer" spacing="12" styleClass="match-list-container">
                <!-- Match cards will be added dynamically -->
            </VBox>
        </ScrollPane>

    </VBox>
    <Button alignment="BOTTOM_CENTER" layoutX="1097.0" layoutY="20.0" mnemonicParsing="false" onAction="#onDeleteAllRecords" prefHeight="60.0" prefWidth="160.0" style="-fx-background-color: linear-gradient(#dc2626, #991b1b); -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 16; -fx-cursor: hand; -fx-font-size: 16;" styleClass="danger-btn" text="Delete All Records">
        <padding>
            <Insets bottom="20.0" top="10.0" />
        </padding>
    </Button>
    <Button fx:id="backBtn" onAction="#handleBack" style="-fx-background-color: transparent; -fx-cursor: hand; -fx-padding: 10;" AnchorPane.leftAnchor="50.0" AnchorPane.topAnchor="30.0" pickOnBounds="false">
        <graphic>
            <ImageView fitHeight="30" fitWidth="30" preserveRatio="true" pickOnBounds="true">
                <image>
                    <Image url="@../../../assets/images/arrow-back.png" />
                </image>
            </ImageView>
        </graphic>
    </Button>
</AnchorPane>
